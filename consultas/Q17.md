SELECT pr.id_producto, pr.nombre
FROM producto pr
WHERE NOT EXISTS (
  SELECT p.id_pedido
  FROM pedido p
  WHERE NOT EXISTS (
    SELECT 1
    FROM detalle_pedido d
    WHERE d.id_producto = pr.id_producto
      AND d.id_pedido = p.id_pedido
  )
);
