SELECT c.id_cliente, c.nombre
FROM cliente c
WHERE NOT EXISTS (
  SELECT p.id_pedido
  FROM pedido p
  WHERE p.id_cliente = c.id_cliente
    AND NOT EXISTS (
      SELECT 1
      FROM pago pa
      WHERE pa.id_pedido = p.id_pedido
        AND pa.estado_pago = 'CONFIRMADO'
    )
);
