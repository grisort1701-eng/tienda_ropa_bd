SELECT c.id_cliente, c.nombre
FROM cliente c
WHERE NOT EXISTS (
  SELECT cat.id_categoria
  FROM categoria cat
  WHERE NOT EXISTS (
    SELECT 1
    FROM pedido p
    JOIN detalle_pedido d
      ON p.id_pedido = d.id_pedido
    JOIN producto pr
      ON d.id_producto = pr.id_producto
    WHERE p.id_cliente = c.id_cliente
      AND pr.id_categoria = cat.id_categoria
  )
);
